````markdown
## 目录约定

### 基本约束
- 必须在项目根目录执行命令  
- 项目根目录下必须存在 `i18n/` 目录  
- `i18n/` 只允许两种形态之一：**模块模式** 或 **根目录模式**  
- 两种模式互斥，不允许混用  

---

## 一、模块模式（`i18n/` 下存在子目录）

当 `i18n/` 目录下存在任意子目录时，进入**模块模式**。

### 规则说明
- `i18n/` 下的每一个子目录视为一个独立模块  
- 工具只处理子目录中的翻译文件  
- 每个模块中，仅识别以下命名格式的文件：

```text
<folder>_<code>.i18n.json
````

其中：

* `<folder>` 必须与子目录名称完全一致
* `<code>` 为语言代码（如 `en`、`zh-Hans`、`ja`、`fr` 等）

不符合命名规则的文件将被忽略，并在 `doctor` 中给出提示。

### 示例

```text
project-root/
├─ i18n/
│  ├─ auth/
│  │  ├─ auth_en.i18n.json
│  │  ├─ auth_zh-Hans.i18n.json
│  │  └─ auth_ja.i18n.json
│  ├─ home/
│  │  ├─ home_en.i18n.json
│  │  └─ home_zh-Hans.i18n.json
│  └─ settings/
│     ├─ settings_en.i18n.json
│     └─ settings_fr.i18n.json
└─ other/
```

### 补充说明

* 模块模式下，`i18n/` 根目录中的文件不会被处理
* 模块目录中不带 `.i18n` 后缀或模块前缀不匹配的文件不会被处理

---

## 二、根目录模式（`i18n/` 下无子目录）

当 `i18n/` 目录下不存在任何子目录时，进入**根目录模式**。

### 规则说明

* 工具只处理 `i18n/` 根目录中的翻译文件
* 仅识别以下命名格式的文件：

```text
<code>.json
```

其中：

* `<code>` 为语言代码（如 `en`、`zh-Hans`、`ja`、`fr` 等）

其他命名形式的文件将被忽略，并在 `doctor` 中给出提示。

### 示例

```text
project-root/
├─ i18n/
│  ├─ en.json
│  ├─ zh-Hans.json
│  ├─ ja.json
│  └─ fr.json
└─ other/
```

### 补充说明

* 根目录模式下，不允许存在任何模块子目录
* 命名不包含语言代码或格式不规范的文件不会被处理

---

## 三、通用规则

* 模块模式与根目录模式互斥，不允许混用
* 工具不会递归扫描子目录的子目录
* 仅符合约定命名规则的文件才会被识别为翻译资源
* 所有未被识别的文件将被忽略，并在 `doctor` 中列出对应的修复建议（如重命名）
